<?php TPL::output('admin/global/header.tpl.htm'); ?>
<?php TPL::output('admin/global/nav_menu.tpl.htm'); ?>

<div class="aw-content-wrap">
    <form action="admin/ajax/save_settings/" id="settings_form" method="post" onsubmit="return false">
    <div class="mod">
        <?php if ($_GET['category'] == 'site') { ?>
        <div class="mod-head">
            <h3>
                <span class="pull-left"><?php _e('站点信息'); ?></span>

                <span class="pull-right"><a href="javascript:;" onclick="AWS.ajax_post($('#settings_form'));" class="btn btn-xs btn-primary mod-site-save"><?php _e('快速保存'); ?></a></span>
            </h3>
        </div>
        <div class="tab-content mod-content">
            <table class="table table-striped">
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('网站公告'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <textarea class="form-control textarea" name="site_announce"  ><?php echo htmlspecialchars($this->setting['site_announce']); ?></textarea>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('网站名称'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input type="text" class="form-control" name="site_name" value="<?php echo $this->setting['site_name']; ?>">
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('网站简介'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <textarea class="form-control textarea" rows="4" name="description"  ><?php echo $this->setting['description']; ?></textarea>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('网站关键词'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <textarea class="form-control textarea" rows="4" name="keywords"  ><?php echo $this->setting['keywords']; ?></textarea>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('公司名称'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="company_name" class="form-control" type="text" value="<?php echo $this->setting['company_name']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('网站统计代码'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <textarea class="form-control textarea" name="statistic_code" rows="4"><?php echo $this->setting['statistic_code']; ?></textarea>
                            </div>
                        </div>
                    </td>
                </tr>
            </table>
        </div>

        <?php } else if ($_GET['category'] == 'register') { ?>
        <div class="mod-head">
            <h3>
                <span class="pull-left"><?php _e('注册与访问'); ?></span>

                <span class="pull-right"><a href="javascript:;" onclick="AWS.ajax_post($('#settings_form'));" class="btn btn-xs btn-primary mod-site-save"><?php _e('快速保存'); ?></a></span>
            </h3>
        </div>
        <div class="tab-content mod-content">
            <table class="table table-striped">
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-3 col-xs-3 control-label"><?php _e('默认时区'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <select name="default_timezone" class="form-control">
                                    <option value=''></option>
                                    <option value='Etc/GMT+12'<?php if ($this->setting['default_timezone'] == 'Etc/GMT+12') { ?> selected="selected"<?php } ?>><?php _e('(GMT - 12:00 小时) 安尼威托克岛，卡瓦加兰'); ?></option>
                                    <option value='Etc/GMT+11'<?php if ($this->setting['default_timezone'] == 'Etc/GMT+11') { ?> selected="selected"<?php } ?>><?php _e('(GMT - 11:00 小时) 中途岛，萨摩亚'); ?></option>
                                    <option value='Etc/GMT+10'<?php if ($this->setting['default_timezone'] == 'Etc/GMT+10') { ?> selected="selected"<?php } ?>><?php _e('(GMT - 10:00 小时) 夏威夷'); ?></option>
                                    <option value='Etc/GMT+9'<?php if ($this->setting['default_timezone'] == 'Etc/GMT+9') { ?> selected="selected"<?php } ?>><?php _e('(GMT - 9:00 小时) 阿拉斯加'); ?></option>
                                    <option value='Etc/GMT+8'<?php if ($this->setting['default_timezone'] == 'Etc/GMT+8') { ?> selected="selected"<?php } ?>><?php _e('(GMT - 8:00 小时) 太平洋时间'); ?></option>
                                    <option value='Etc/GMT+7'<?php if ($this->setting['default_timezone'] == 'Etc/GMT+7') { ?> selected="selected"<?php } ?>><?php _e('(GMT - 7:00 小时) 美国山区时间'); ?></option>
                                    <option value='Etc/GMT+6'<?php if ($this->setting['default_timezone'] == 'Etc/GMT+6') { ?> selected="selected"<?php } ?>><?php _e('(GMT - 6:00 小时) 美国中部时间，墨西哥市'); ?></option>
                                    <option value='Etc/GMT+5'<?php if ($this->setting['default_timezone'] == 'Etc/GMT+5') { ?> selected="selected"<?php } ?>><?php _e('(GMT - 5:00 小时) 美国东部时间，波哥大，利马'); ?></option>
                                    <option value='Etc/GMT+4'<?php if ($this->setting['default_timezone'] == 'Etc/GMT+4') { ?> selected="selected"<?php } ?>><?php _e('(GMT - 4:00 小时) 大西洋时间（加拿大），加拉加斯，拉巴斯'); ?></option>
                                    <option value='Canada/Newfoundland'<?php if ($this->setting['default_timezone'] == 'Canada/Newfoundland') { ?> selected="selected"<?php } ?>><?php _e('(GMT - 3:30 小时) 纽芬兰'); ?></option>
                                    <option value='Etc/GMT+3'<?php if ($this->setting['default_timezone'] == 'Etc/GMT+3') { ?> selected="selected"<?php } ?>><?php _e('(GMT - 3:00 小时) 巴西，布宜诺斯艾利斯，福克兰群岛'); ?></option>
                                    <option value='Etc/GMT+2'<?php if ($this->setting['default_timezone'] == 'Etc/GMT+2') { ?> selected="selected"<?php } ?>><?php _e('(GMT - 2:00 小时) 大西洋中部，亚森欣，圣赫勒拿岛'); ?></option>
                                    <option value='Etc/GMT+1'<?php if ($this->setting['default_timezone'] == 'Etc/GMT+1') { ?> selected="selected"<?php } ?>><?php _e('(GMT - 1:00 小时) 亚速群岛，佛得角群岛'); ?></option>
                                    <option value='Etc/GMT'<?php if ($this->setting['default_timezone'] == 'Etc/GMT') { ?> selected="selected"<?php } ?>><?php _e('(GMT) 卡萨布兰卡，都柏林，伦敦，里斯本，蒙罗维亚'); ?></option>
                                    <option value='Etc/GMT-1'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-1') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 1:00 小时) 布鲁塞尔，哥本哈根，马德里，巴黎'); ?></option>
                                    <option value='Etc/GMT-2'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-2') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 2:00 小时) 加里宁格勒，南非'); ?></option>
                                    <option value='Etc/GMT-3'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-3') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 3:00 小时) 巴格达，利雅德，莫斯科，奈洛比'); ?></option>
                                    <option value='Iran'<?php if ($this->setting['default_timezone'] == 'Iran') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 3:30 小时) 德黑兰'); ?></option>
                                    <option value='Etc/GMT-4'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-4') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 4:00 小时) 阿布达比，巴库，马斯喀特，第比利斯'); ?></option>
                                    <option value='Asia/Kabul'<?php if ($this->setting['default_timezone'] == 'Asia/Kabul') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 4:30 小时) 喀布尔'); ?></option>
                                    <option value='Etc/GMT-5'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-5') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 5:00 小时) 凯萨琳堡，克拉嗤，塔什干'); ?></option>
                                    <option value='Asia/Kolkata'<?php if ($this->setting['default_timezone'] == 'Asia/Kolkata') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 5:30 小时) 孟买，加尔各答，马德拉斯，新德里'); ?></option>
                                    <option value='Etc/GMT-6'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-6') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 6:00 小时) 阿拉木图，科隆巴，达卡'); ?></option>
                                    <option value='Etc/GMT-7'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-7') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 7:00 小时) 曼谷，河内，雅加达'); ?></option>
                                    <option value='Etc/GMT-8'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-8') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 8:00 小时) 北京，香港，澳洲伯斯，新加坡，台北'); ?></option>
                                    <option value='Etc/GMT-9'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-9') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 9:00 小时) 大阪，札幌，首尔，东京，亚库次克'); ?></option>
                                    <option value='Etc/GMT-10'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-10') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 10:00 小时) 墨尔本，巴布亚新几内亚，雪梨'); ?></option>
                                    <option value='Etc/GMT-11'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-11') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 11:00 小时) 马加丹，新喀里多尼亚，所罗门群岛'); ?></option>
                                    <option value='Etc/GMT-12'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-12') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 12:00 小时) 新西兰，斐济，马绍尔群岛'); ?></option>
                                    <option value='Etc/GMT-13'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-13') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 13:00 小时) 堪察加半岛，阿那底河'); ?></option>
                                    <option value='Etc/GMT-14'<?php if ($this->setting['default_timezone'] == 'Etc/GMT-14') { ?> selected="selected"<?php } ?>><?php _e('(GMT + 14:00 小时) 圣诞岛'); ?></option>
                                </select>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-3 col-xs-3 control-label"><?php _e('站点关闭'); ?>:</span>
                            <div class="col-sm-6 col-xs-8">
                                <div class="btn-group mod-btn">
                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="site_close" value="Y"<?php if ($this->setting['site_close'] == 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('是'); ?>
                                    </label>

                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="site_close" value="N"<?php if ($this->setting['site_close'] != 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('否'); ?>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-3 col-xs-3 control-label"><?php _e('站点关闭的提示'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input type="text" class="form-control" name="close_notice" value="<?php echo $this->setting['close_notice']; ?>" />
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-3 col-xs-3 control-label"><?php _e('注册时间间隔限制'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input type="text" class="form-control" name="register_interval" value="<?php echo $this->setting['register_interval']; ?>" />

                                <span class="help-block"><?php _e('每隔多少秒允许注册一个账号'); ?></span>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-3 col-xs-3 control-label"><?php _e('新用户注册显示验证码'); ?>:</span>
                            <div class="col-sm-6 col-xs-8">
                                <div class="btn-group mod-btn">
                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="register_seccode" value="Y"<?php if ($this->setting['register_seccode'] == 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('是'); ?>
                                    </label>

                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="register_seccode" value="N"<?php if ($this->setting['register_seccode'] != 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('否'); ?>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-3 col-xs-3 control-label"><?php _e('新用户注册验证类型'); ?>:</span>
                            <div class="col-sm-8 col-xs-8">
                                <label class="checkbox-inline"><input type="radio" name="register_valid_type" value="approval"<?php if ($this->setting['register_valid_type'] == 'approval') { ?> checked="checked"<?php } ?> /> <?php _e('后台审核'); ?></label>

                                <label class="checkbox-inline"><input type="radio" name="register_valid_type" value="N"<?php if ($this->setting['register_valid_type'] == 'N') { ?> checked="checked"<?php } ?> /> <?php _e('不验证'); ?></label>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-3 col-xs-3 control-label"><?php _e('注册类型'); ?>:</span>
                            <div class="col-sm-8 col-xs-8">
                                <label class="checkbox-inline"><input type="radio" name="register_type" value="open"<?php if ($this->setting['register_type'] == 'open') { ?> checked="checked"<?php } ?> /> <?php _e('开放注册'); ?></label>

                                <label class="checkbox-inline"><input type="radio" name="register_type" value="invite"<?php if ($this->setting['register_type'] == 'invite') { ?> checked="checked"<?php } ?> /> <?php _e('邀请注册'); ?></label>

                                <label class="checkbox-inline"><input type="radio" name="register_type" value="close"<?php if ($this->setting['register_type'] == 'close') { ?> checked="checked"<?php } ?> /> <?php _e('关闭注册'); ?></label>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-3 col-xs-3 control-label"><?php _e('用户名规则'); ?>:</span>
                            <div class="col-sm-8 col-xs-8">
                                <label class="checkbox-inline"><input type="radio" value="0" name="username_rule"<?php if ($this->setting['username_rule'] == 0) { ?> checked="checked"<?php } ?> /> <?php _e('不限制'); ?></label>
                                <label class="checkbox-inline"><input type="radio" value="1" name="username_rule"<?php if ($this->setting['username_rule'] == 1) { ?> checked="checked"<?php } ?> /> <?php _e('汉字/字母/数字/下划线'); ?></label>
                                <label class="checkbox-inline"><input type="radio" value="2" name="username_rule"<?php if ($this->setting['username_rule'] == 2) { ?> checked="checked"<?php } ?> /> <?php _e('字母/数字/下划线'); ?></label>
                                <label class="checkbox-inline"><input type="radio" value="3" name="username_rule"<?php if ($this->setting['username_rule'] == 3) { ?> checked="checked"<?php } ?> /> <?php _e('汉字'); ?></label>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-3 col-xs-3 control-label"><?php _e('用户名最少字符数'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="username_length_min" class="form-control" type="text" value="<?php echo $this->setting['username_length_min']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-3 col-xs-3 control-label"><?php _e('用户名最多字符数'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="username_length_max" class="form-control" type="text" value="<?php echo $this->setting['username_length_max']; ?>"/>

                                <span class="help-block"><?php _e('注: 一个汉字等于 2 个字符'); ?></span>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-3 col-xs-3 control-label"><?php _e('用户协议名称'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="user_agreement_name" class="form-control" type="text" value="<?php echo $this->setting['user_agreement_name']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-3 col-xs-3 control-label"><?php _e('用户协议链接'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="user_agreement_link" class="form-control" type="text" value="<?php echo $this->setting['user_agreement_link']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-3 col-xs-3 control-label"><?php _e('用户注册名不允许出现以下关键字'); ?>:</span>
                            <div class="col-sm-7 col-xs-8">
                                <textarea class="form-control textarea" rows="5" name="censoruser"  ><?php echo $this->setting['censoruser']; ?></textarea>

                                <span class="help-block"><?php _e('每行填写一个关键字, 如: admin, 管理员等'); ?></span>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-3 col-xs-3 control-label"><?php _e('用户注册后默认关注的用户 ID'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="def_focus_uids" class="form-control" type="text" value="<?php echo $this->setting['def_focus_uids']; ?>"/>

                                <span class="help-block"><?php _e('多个用户 ID 请用 , 隔开'); ?></span>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-3 col-xs-3 control-label"><?php _e('首次登录推荐用户列表'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="welcome_recommend_users" class="form-control" type="text" value="<?php echo $this->setting['welcome_recommend_users']; ?>"/>

                                <span class="help-block"><?php _e('填写用户名, 若有多个用户名请用 , 隔开, 留空系统自动推荐'); ?></span>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-3 col-xs-3 control-label"><?php _e('新用户注册系统发送的欢迎内容'); ?>:</span>
                            <div class="col-sm-7 col-xs-8">
                                <textarea class="form-control textarea" rows="4" name="welcome_message_pm"  ><?php echo $this->setting['welcome_message_pm']; ?></textarea>

                                <span class="help-block"><?php _e('新用户注册欢迎内容, 以下变量可作为内容替换: <br />{username}: 用户名<br />{time}: 发送时间<br />{sitename}: 网站名称'); ?></span>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group mod-width">
                            <span class="col-sm-2 col-xs-3 control-label"><?php _e('新用户默认通知设置'); ?>:</span>
                            <div class="col-sm-10 col-xs-8">
                                <input type="hidden" name="_set_notification_settings" value="1" />

                                <?php foreach($this->notify_actions as $key => $val) { ?>
                                <?php if ($val['user_setting']) { ?>
                                <label><input name="new_user_notification_setting[<?php echo $key;?>]" type="checkbox" value="1"<?php if (!in_array($key, $this->notification_settings)) { ?> checked="checked"<?php } ?> /> <?php _e($val['desc']); ?></label>
                                <?php } ?>
                                <?php } ?>
                            </div>
                        </div>
                    </td>
                </tr>
            </table>
        </div>

        <?php } else if ($_GET['category'] == 'functions') { ?>
        <div class="mod-head">
            <h3>
                <span class="pull-left"><?php _e('站点功能'); ?></span>

                <span class="pull-right"><a href="javascript:;" onclick="AWS.ajax_post($('#settings_form'));" class="btn btn-xs btn-primary mod-site-save"><?php _e('快速保存'); ?></a></span>
            </h3>
        </div>
        <div class="tab-content mod-content">
            <table class="table table-striped">
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('开启 Rewrite 伪静态'); ?>:</span>
                            <div class="col-sm-6 col-xs-8">
                                <div class="btn-group mod-btn">
                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="url_rewrite_enable" value="Y"<?php if ($this->setting['url_rewrite_enable'] == 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('是'); ?>
                                    </label>

                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="url_rewrite_enable" value="N"<?php if ($this->setting['url_rewrite_enable'] != 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('否'); ?>
                                    </label>

                                    <span class="help-block"><?php _e('Rewrite 开启方法请见 ReadMe 说明文件'); ?></span>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-2 col-xs-3 control-label"><?php _e('URL 链接显示样式'); ?>:</span>
                            <div class="col-sm-10 col-xs-12">
                                <ul class="mod-site-url">
                                    <li>
                                        <span class="pull-left"><a href="javascript:;" onclick='$("#request_route_custom").val("/account/login/===/login/\n/account/logout/===/logout/\n/account/setting/(:any)/===/setting/(:any)/")'>[ <?php _e('获取规则'); ?> ]</a></span>
                                        <p class="pull-left">
                                            <?php echo base_url(); ?>/question/123<br /><?php echo base_url(); ?>/topic/123<br /><?php echo base_url(); ?>/people/anwsion<br /><?php echo base_url(); ?>/category/123
                                        </p>
                                    </li>
                                    <li>
                                        <span class="pull-left"><a href="javascript:;" onclick='$("#request_route_custom").val("/question/(:any)===/q_(:any)\n/topic/(:any)===/t_(:any).html\n/people/(:any)===/p_(:any).html\n/account/login/===/login/\n/account/logout/===/logout/\n/account/setting/(:any)/===/setting/(:any)/");'>[ <?php _e('获取规则'); ?> ]</a></span>
                                        <p class="pull-left">
                                            <?php echo base_url(); ?>/q_123.html
                                            <br />
                                            <?php echo base_url(); ?>/t_话题.html
                                            <br />
                                            <?php echo base_url(); ?>/p_admin.html
                                            <br />
                                            <?php echo base_url(); ?>/c_123.html
                                        </p>
                                    </li>
                                    <li class="mod-site-rule">
                                        <span class="pull-left"><?php _e('自定义路由'); ?></span>
                                        <div class="pull-left col-sm-8">
                                            <textarea class="form-control textarea" name="request_route_custom" id="request_route_custom" rows="4" cols="63"><?php echo $this->setting['request_route_custom']; ?></textarea>
                                        </div>
                                        <div class="help-block">
                                            <?php _e('此模式只有开启 Rewrite 后有效, 请填写简略正则表达式, 每行一条规则, 中间使用 === 隔开, 左边为站点默认 URL 模式, 右边为替换后的 URL 模式, 链接以 / 开头, (:num) 代表数字, (:any) 代表任意字符<br />如替换问题规则：<br />/question/(:any)===/q_(:any)<br />(!) 警告: 使用此功能之前请确定你对替换有所把握, 错误的规则将导致站点不能运行'); ?>
                                        </div>

                                    </li>
                                </ul>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('通知未读数刷新间隔时间'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="unread_flush_interval" class="form-control" type="text" value="<?php echo $this->setting['unread_flush_interval']; ?>"/>

                                <div class="help-block"><?php _e('单位'); ?>: <?php _e('秒'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('关闭申请认证功能'); ?>:</span>
                            <div class="col-sm-6 col-xs-8">
                                <div class="btn-group mod-btn">
                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="id_verification_disabled" value="Y"<?php if ($this->setting['id_verification_disabled'] == 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('是'); ?>
                                    </label>

                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="id_verification_disabled" value="N"<?php if ($this->setting['id_verification_disabled'] != 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('否'); ?>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('默认私信选项'); ?>:</span>
                            <div class="col-sm-6 col-xs-8">
                                <label class="checkbox-inline">
                                    <input type="radio" name="default_inbox_recv" value="3"<?php if ($this->setting['default_inbox_recv'] == '3') { ?> checked="checked"<?php } ?> /> <?php _e('所有人'); ?>
                                </label>

                                <label class="checkbox-inline">
                                    <input type="radio" name="default_inbox_recv" value="1"<?php if ($this->setting['default_inbox_recv'] == '1') { ?> checked="checked"<?php } ?> /> <?php _e('我关注的人'); ?>
                                </label>

                                <label class="checkbox-inline">
                                    <input type="radio" name="default_inbox_recv" value="2"<?php if ($this->setting['default_inbox_recv'] == '2') { ?> checked="checked"<?php } ?> /> <?php _e('拒绝任何人人'); ?>
                                </label>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('系统时间显示格式'); ?>:</span>
                            <div class="col-sm-6 col-xs-8">
                                <label><input type="radio" name="time_style" value="Y"<?php if ($this->setting['time_style'] == 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('显示日期和时间'); ?></label>
                                <label class="col-md-offset-1"><input type="radio" name="time_style" value="N"<?php if ($this->setting['time_style'] != 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('只显示日期'); ?></label>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('时差'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="time_difference" type="text" class="form-control" value="<?php echo $this->setting['time_difference']; ?>"/>

                                <div class="help-block"><?php _e('单位: 秒, 只与显示相关'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('管理员后台登录是否需要验证码'); ?>:</span>
                            <div class="col-sm-6 col-xs-8">
                                <div class="btn-group mod-btn">
                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="admin_login_seccode" value="Y"<?php if ($this->setting['admin_login_seccode'] == 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('是'); ?>
                                    </label>

                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="admin_login_seccode" value="N"<?php if ($this->setting['admin_login_seccode'] != 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('否'); ?>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('普通用户登录是否需要验证码'); ?>:</span>
                            <div class="col-sm-6 col-xs-8">
                                <div class="btn-group mod-btn">
                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="login_seccode" value="Y"<?php if ($this->setting['login_seccode'] == 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('是'); ?>
                                    </label>

                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="login_seccode" value="N"<?php if ($this->setting['login_seccode'] != 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('否'); ?>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('限制登录尝试次数'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="limit_login_attempts" type="text" class="form-control" value="<?php echo $this->setting['limit_login_attempts']; ?>"/>

                                <div class="help-block"><?php _e('填写 0 则不启用'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('限制登录尝试次数间隔时间'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="limit_login_attempts_interval" type="text" class="form-control" value="<?php echo $this->setting['limit_login_attempts_interval']; ?>"/>

                                <div class="help-block"><?php _e('单位: 分钟'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('删除过期私信'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="expiration_private_messages" type="text" class="form-control" value="<?php echo $this->setting['expiration_private_messages']; ?>"/>

                                <div class="help-block"><?php _e('单位'); ?>: 天, <?php _e('填写 0 则不启用'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('删除过期通知'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="expiration_notifications" type="text" class="form-control" value="<?php echo $this->setting['expiration_notifications']; ?>"/>

                                <div class="help-block"><?php _e('单位'); ?>: 天, <?php _e('填写 0 则不启用'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('删除过期积分日志'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="expiration_currency_logs" type="text" class="form-control" value="<?php echo $this->setting['expiration_currency_logs']; ?>"/>

                                <div class="help-block"><?php _e('单位'); ?>: 天, <?php _e('填写 0 则不启用'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('删除过期用户动态'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="expiration_user_actions" type="text" class="form-control" value="<?php echo $this->setting['expiration_user_actions']; ?>"/>

                                <div class="help-block"><?php _e('单位'); ?>: 天, <?php _e('填写 0 则不启用'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('删除过期点赞记录'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="expiration_votes" type="text" class="form-control" value="<?php echo $this->setting['expiration_votes']; ?>"/>

                                <div class="help-block"><?php _e('单位'); ?>: 天, <?php _e('填写 0 则不启用'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('模糊时间'); ?>:</span>
                            <div class="col-sm-6 col-xs-8">
                                <div class="btn-group mod-btn">
                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="time_blurring" value="Y"<?php if ($this->setting['time_blurring'] != 'N') { ?> checked="checked"<?php } ?> /> <?php _e('是'); ?>
                                    </label>

                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="time_blurring" value="N"<?php if ($this->setting['time_blurring'] == 'N') { ?> checked="checked"<?php } ?> /> <?php _e('否'); ?>
                                    </label>
                                </div>
                                <div class="help-block"><?php _e('将时间模糊至当天0点, 抹去时分秒, 再加上随机秒数'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('模糊时间最小随机秒数'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="random_seconds_min" type="text" class="form-control" value="<?php echo $this->setting['random_seconds_min']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('模糊时间最大随机秒数'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="random_seconds_max" type="text" class="form-control" value="<?php echo $this->setting['random_seconds_max']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('多少天以后删除被封禁用户'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="days_delete_forbidden_users" type="text" class="form-control" value="<?php echo $this->setting['days_delete_forbidden_users']; ?>"/>

                                <div class="help-block"><?php _e('单位'); ?>: 天, <?php _e('填写 0 则不启用'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('匿名用户 UID');?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="anonymous_uid" type="text" class="form-control" value="<?php echo $this->setting['anonymous_uid']; ?>"/>
                                <span class="help-block"><?php _e('留空则不启用'); ?></span>
                            </div>
                        </div>
                    </td>
                </tr>

            </table>
        </div>

        <?php } else if ($_GET['category'] == 'contents') { ?>
        <div class="mod-head">
            <h3>
                <span class="pull-left"><?php _e('内容设置'); ?></span>

                <span class="pull-right"><a href="javascript:;" onclick="AWS.ajax_post($('#settings_form'));" class="btn btn-xs btn-primary mod-site-save"><?php _e('快速保存'); ?></a></span>
            </h3>
        </div>
        <div class="tab-content mod-content">
            <table class="table table-striped">
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('允许上传附件'); ?>:</span>
                            <div class="col-sm-6 col-xs-8">
                                <div class="btn-group mod-btn">
                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="upload_enable" value="Y"<?php if ($this->setting['upload_enable'] == 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('是'); ?>
                                    </label>

                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="upload_enable" value="N"<?php if ($this->setting['upload_enable'] != 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('否'); ?>
                                    </label>
                                </div>
                                <div class="help-block"><?php _e('允许上传头像/话题图片'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('允许的附件文件类型'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="allowed_upload_types" class="form-control" type="text" value="<?php echo $this->setting['allowed_upload_types']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('允许上传最大附件大小'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="upload_size_limit" class="form-control" type="text" value="<?php echo $this->setting['upload_size_limit']; ?>"/>

                                <div class="help-block"><?php _e('单位'); ?>: KB</div>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('上传文件存放绝对路径'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="upload_dir" class="form-control" type="text" value="<?php echo $this->setting['upload_dir']; ?>"/>

                                <span class="help-block"><?php _e('末尾不带 / 或 \\ '); ?></span>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('上传目录外部访问 URL 地址'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="upload_url" class="form-control" type="text" value="<?php echo $this->setting['upload_url']; ?>"/>

                                <span class="help-block"><?php _e('末尾不带 / 或 \\'); ?></span>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('static 目录资源 URL 地址'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="img_url" class="form-control" type="text" value="<?php echo $this->setting['img_url']; ?>"/>

                                <span class="help-block"><?php _e('末尾不带 / 或 \，留空使用根目录下的 static 资源'); ?></span>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('编辑器设置'); ?>:</span>
                            <div class="col-sm-6 col-xs-8">
                                <label><input type="radio" name="advanced_editor_enable" value="Y"<?php if ($this->setting['advanced_editor_enable'] == 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('高级编辑器'); ?></label>
                                <label class="col-md-offset-1"><input type="radio" name="advanced_editor_enable" value="N"<?php if ($this->setting['advanced_editor_enable'] != 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('纯文本编辑器'); ?></label>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('启用分类功能'); ?>:</span>
                            <div class="col-sm-6 col-xs-8">
                                <div class="btn-group mod-btn">
                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="category_enable" value="Y"<?php if ($this->setting['category_enable'] == 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('是'); ?>
                                    </label>

                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="category_enable" value="N"<?php if ($this->setting['category_enable'] != 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('否'); ?>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('启用帮助中心'); ?>:</span>
                            <div class="col-sm-6 col-xs-8">
                                <div class="btn-group mod-btn">
                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="enable_help_center" value="Y"<?php if ($this->setting['enable_help_center'] == 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('是'); ?>
                                    </label>

                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="enable_help_center" value="N"<?php if ($this->setting['enable_help_center'] != 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('否'); ?>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('自动展开评论'); ?>:</span>
                            <div class="col-sm-6 col-xs-8">
                                <div class="btn-group mod-btn">
                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="unfold_comments" value="Y"<?php if ($this->setting['unfold_comments'] == 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('是'); ?>
                                    </label>

                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="unfold_comments" value="N"<?php if ($this->setting['unfold_comments'] != 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('否'); ?>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('敏感词列表'); ?>:</span>
                            <div class="col-sm-8 col-xs-8">
                                <textarea class="form-control textarea" rows="5" name="sensitive_words"><?php echo $this->setting['sensitive_words']; ?></textarea>
                                <span class="help-block"><?php _e('支持普通字符串和正则表达式，每行一个。正则表达式请以 <code>{</code> 开始、以 <code>}</code> 结束，且需符合 <a href="https://php.net/manual/zh/pcre.pattern.php" target="_blank">PCRE 模式</a>，如 <code>{/敏\s*感\s*词/i}</code>。'); ?></span>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('敏感词替换'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="sensitive_words_replacement" type="text" class="form-control" value="<?php echo $this->setting['sensitive_words_replacement']; ?>"/>
                                <span class="help-block"><?php _e('将敏感词替换为别的内容, 留空则不替换'); ?></span>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('站外 URL 白名单'); ?>:</span>
                            <div class="col-sm-8 col-xs-8">
                                <textarea class="form-control textarea" rows="5" name="content_url_whitelist"><?php echo $this->setting['content_url_whitelist']; ?></textarea>
                                <span class="help-block"><?php _e('支持普通字符串和正则表达式，每行一个。'); ?></span>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('超链接黑名单'); ?>:</span>
                            <div class="col-sm-8 col-xs-8">
                                <textarea class="form-control textarea" rows="5" name="hyperlink_blacklist"><?php echo $this->setting['hyperlink_blacklist']; ?></textarea>
                                <span class="help-block"><?php _e('支持普通字符串和正则表达式，每行一个。'); ?></span>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('第三方图片上传 URL'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="image_upload_link" type="text" class="form-control" value="<?php echo $this->setting['image_upload_link']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('搜索引擎 URL'); ?>:</span>
                            <div class="col-sm-8 col-xs-8">
                                <textarea class="form-control textarea" rows="5" name="search_engine_list"><?php echo $this->setting['search_engine_list']; ?></textarea>
                                <span class="help-block"><?php _e('以 %s 取代查询，每行一个。e.g. Google, https://www.google.com/search?q=%s%20site:mydomain.com'); ?></span>
                            </div>
                        </div>
                    </td>
                </tr>

            </table>
        </div>

        <?php } else if ($_GET['category'] == 'currency') { ?>
        <div class="mod-head">
            <h3>
                <span class="pull-left"><?php _e('积分与威望'); ?></span>

                <span class="pull-right"><a href="javascript:;" onclick="AWS.ajax_post($('#settings_form'));" class="btn btn-xs btn-primary mod-site-save"><?php _e('快速保存'); ?></a></span>
            </h3>
        </div>
        <div class="tab-content mod-content">
            <table class="table table-striped">
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('威望名称'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="reputation_name" type="text" class="form-control" value="<?php echo $this->setting['reputation_name']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('积分规则名称'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="currency_rule_name" type="text" class="form-control" value="<?php echo $this->setting['currency_rule_name']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('积分名称'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="currency_name" type="text" class="form-control" value="<?php echo $this->setting['currency_name']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('积分单位'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="currency_unit" type="text" class="form-control" value="<?php echo $this->setting['currency_unit']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('新用户注册默认拥有积分'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="currency_system_config_register" type="text" class="form-control" value="<?php echo $this->setting['currency_system_config_register']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('提问'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="currency_system_config_new_question" type="text" class="form-control" value="<?php echo $this->setting['currency_system_config_new_question']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('回应'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="currency_system_config_reply_question" type="text" class="form-control" value="<?php echo $this->setting['currency_system_config_reply_question']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('收到回应'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="currency_system_config_question_replied" type="text" class="form-control" value="<?php echo $this->setting['currency_system_config_question_replied']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('发文'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="currency_system_config_new_article" type="text" class="form-control" value="<?php echo $this->setting['currency_system_config_new_article']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('回应'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="currency_system_config_reply_article" type="text" class="form-control" value="<?php echo $this->setting['currency_system_config_reply_article']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('收到回应'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="currency_system_config_article_replied" type="text" class="form-control" value="<?php echo $this->setting['currency_system_config_article_replied']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('投稿'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="currency_system_config_new_video" type="text" class="form-control" value="<?php echo $this->setting['currency_system_config_new_video']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('回应'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="currency_system_config_reply_video" type="text" class="form-control" value="<?php echo $this->setting['currency_system_config_reply_video']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('收到回应'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="currency_system_config_video_replied" type="text" class="form-control" value="<?php echo $this->setting['currency_system_config_video_replied']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('赞同'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="currency_system_config_agree" type="text" class="form-control" value="<?php echo $this->setting['currency_system_config_agree']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('收到赞同'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="currency_system_config_agreed" type="text" class="form-control" value="<?php echo $this->setting['currency_system_config_agreed']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('反对'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="currency_system_config_disagree" type="text" class="form-control" value="<?php echo $this->setting['currency_system_config_disagree']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('收到反对'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="currency_system_config_disagreed" type="text" class="form-control" value="<?php echo $this->setting['currency_system_config_disagreed']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>

            </table>
        </div>

        <?php } else if ($_GET['category'] == 'permissions') { ?>
        <div class="mod-head">
            <h3>
                <span class="pull-left"><?php _e('用户限制'); ?></span>

                <span class="pull-right"><a href="javascript:;" onclick="AWS.ajax_post($('#settings_form'));" class="btn btn-xs btn-primary mod-site-save"><?php _e('快速保存'); ?></a></span>
            </h3>
        </div>
        <div class="tab-content mod-content">
            <table class="table table-striped">
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('用户对每个问题的回复限制'); ?>:</span>
                            <div class="col-sm-6 col-xs-8">
                                <label><input type="radio" name="answer_unique" value="Y"<?php if ($this->setting['answer_unique'] == 'Y') { ?> checked="checked"<?php } ?> /><?php _e('只允许回复一次'); ?></label>
                                <label class="col-md-offset-1"><input type="radio" name="answer_unique" value="N"<?php if ($this->setting['answer_unique'] != 'Y') { ?> checked="checked"<?php } ?> /><?php _e('不限制'); ?></label>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('允许用户回复自己发起的问题'); ?>:</span>
                            <div class="col-sm-6 col-xs-8">
                                <div class="btn-group mod-btn">
                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="answer_self_question" value="Y"<?php if ($this->setting['answer_self_question'] == 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('是'); ?>
                                    </label>

                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="answer_self_question" value="N"<?php if ($this->setting['answer_self_question'] != 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('否'); ?>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('问题话题数量限制'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="question_topics_limit" class="form-control" type="text" value="<?php echo $this->setting['question_topics_limit']; ?>"/>

                                <div class="help-block"><?php _e('填写 0 则不限制'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('话题标题最大字符数限制'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="topic_title_limit" type="text" class="form-control" value="<?php echo $this->setting['topic_title_limit']; ?>"/>

                                <div class="help-block"><?php _e('填写 0 则不限制'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('标题最小字数限制'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="title_length_min" class="form-control" type="text" value="<?php echo $this->setting['title_length_min']; ?>"/>

                                <div class="help-block"><?php _e('填写 0 则不限制'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('标题最大字数限制'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="title_length_max" class="form-control" type="text" value="<?php echo $this->setting['title_length_max']; ?>"/>

                                <div class="help-block"><?php _e('填写 0 则不限制'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('正文最小字数限制'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="content_length_min" class="form-control" type="text" value="<?php echo $this->setting['content_length_min']; ?>"/>

                                <div class="help-block"><?php _e('填写 0 则不限制'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('正文最大字数限制'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="content_length_max" class="form-control" type="text" value="<?php echo $this->setting['content_length_max']; ?>"/>

                                <div class="help-block"><?php _e('填写 0 则不限制'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('回复最小字数限制'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="reply_length_min" class="form-control" type="text" value="<?php echo $this->setting['reply_length_min']; ?>"/>

                                <div class="help-block"><?php _e('填写 0 则不限制'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('回复最大字数限制'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="reply_length_max" class="form-control" type="text" value="<?php echo $this->setting['reply_length_max']; ?>"/>

                                <div class="help-block"><?php _e('填写 0 则不限制'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('楼中楼评论最小字数限制'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="comment_length_min" class="form-control" type="text" value="<?php echo $this->setting['comment_length_min']; ?>"/>

                                <div class="help-block"><?php _e('填写 0 则不限制'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('楼中楼评论最大字数限制'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="comment_length_max" class="form-control" type="text" value="<?php echo $this->setting['comment_length_max']; ?>"/>

                                <div class="help-block"><?php _e('填写 0 则不限制'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('私信字数限制'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="pm_length_limit" class="form-control" type="text" value="<?php echo $this->setting['pm_length_limit']; ?>"/>

                                <div class="help-block"><?php _e('不能为空'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('弹幕字数限制'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="danmaku_length_limit" class="form-control" type="text" value="<?php echo $this->setting['danmaku_length_limit']; ?>"/>

                                <div class="help-block"><?php _e('不能为空'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('发弹幕自动顶起帖子'); ?>:</span>
                            <div class="col-sm-6 col-xs-8">
                                <div class="btn-group mod-btn">
                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="danmaku_bring_top" value="Y"<?php if ($this->setting['danmaku_bring_top'] == 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('是'); ?>
                                    </label>

                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="danmaku_bring_top" value="N"<?php if ($this->setting['danmaku_bring_top'] != 'Y') { ?> checked="checked"<?php } ?> /> <?php _e('否'); ?>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('编辑时间间隔限制'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="modify_content_interval" class="form-control" type="text" value="<?php echo $this->setting['modify_content_interval']; ?>"/>

                                <div class="help-block"><?php _e('两次编辑的时间间隔 (单位: 秒, 设置 0 为不限制)'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('反对数量达到多少个时折叠');?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="downvote_fold" type="text" class="form-control" value="<?php echo $this->setting['downvote_fold']; ?>"/>
                                <span class="help-block"><?php _e('留空则不启用'); ?></span>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('用户赞同小于等于多少时自动封禁'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="auto_banning_agree_count" type="text" class="form-control" value="<?php echo $this->setting['auto_banning_agree_count']; ?>"/>
                                <div class="help-block"><?php _e('应填写负数, 不启用请留空'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('用户威望小于等于多少时自动封禁'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="auto_banning_reputation" type="text" class="form-control" value="<?php echo $this->setting['auto_banning_reputation']; ?>"/>
                                <div class="help-block"><?php _e('应填写负数, 不启用请留空'); ?></div>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('自动封禁条件'); ?>:</span>
                            <div class="col-sm-6 col-xs-8">
                                <div class="btn-group mod-btn">
                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="auto_banning_type" value="AND"<?php if ($this->setting['auto_banning_type'] == 'AND') { ?> checked="checked"<?php } ?> /> <?php _e('AND'); ?>
                                    </label>

                                    <label type="button" class="btn mod-btn-color">
                                        <input type="radio" name="auto_banning_type" value="OR"<?php if ($this->setting['auto_banning_type'] != 'AND') { ?> checked="checked"<?php } ?> /> <?php _e('OR'); ?>
                                    </label>

                                    <span class="help-block"><?php _e('AND: 需满足全部条件, OR: 只需满足一个条件, 默认为 OR'); ?></span>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>

            </table>
        </div>

        <?php } else if ($_GET['category'] == 'cache') { ?>
        <div class="mod-head">
            <h3>
                <span class="pull-left"><?php _e('性能优化'); ?></span>

                <span class="pull-right"><a href="javascript:;" onclick="AWS.ajax_post($('#settings_form'));" class="btn btn-xs btn-primary mod-site-save"><?php _e('快速保存'); ?></a></span>
            </h3>
        </div>
        <div class="tab-content mod-content">
            <table class="table table-striped">
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('高级别缓存时间'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="cache_level_high" type="text" class="form-control" value="<?php echo $this->setting['cache_level_high']; ?>"/>

                                <span class="help-block"><?php _e('单位:秒'); ?></span>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('普通级别缓存时间'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="cache_level_normal" type="text" class="form-control" value="<?php echo $this->setting['cache_level_normal']; ?>"/>

                                <span class="help-block"><?php _e('单位:秒'); ?></span>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('低级别缓存时间'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="cache_level_low" type="text" class="form-control" value="<?php echo $this->setting['cache_level_low']; ?>"/>

                                <span class="help-block"><?php _e('单位:秒'); ?></span>
                            </div>
                        </div>
                    </td>
                </tr>
            </table>
        </div>

        <?php } else if ($_GET['category'] == 'interface') { ?>
        <div class="mod-head">
            <h3>
                <span class="pull-left"><?php _e('界面设置'); ?></span>

                <span class="pull-right"><a href="javascript:;" onclick="AWS.ajax_post($('#settings_form'));" class="btn btn-xs btn-primary mod-site-save"><?php _e('快速保存'); ?></a></span>
            </h3>
        </div>
        <div class="tab-content mod-content">
            <table class="table table-striped">
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('用户界面风格'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <select class="form-control" name="ui_style">
                                <?php foreach($this->styles as $skey => $val) { ?>
                                    <option value="<?php echo $val['id']; ?>"<?php if ($this->setting['ui_style'] == $val['id']) { ?> selected="selected"<?php } ?>><?php echo $val['title']; ?></option>
                                    <?php } ?>
                                </select>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('最新动态显示条数'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="index_per_page" class="form-control" type="text" value="<?php echo $this->setting['index_per_page']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('通知显示条数'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="notifications_per_page" class="form-control" type="text" value="<?php echo $this->setting['notifications_per_page']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('内容列表页显示条数'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="contents_per_page" class="form-control" type="text" value="<?php echo $this->setting['contents_per_page']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('推荐用户和话题数量'); ?>:</span>
                            <div class="col-sm-5 col-xs-8">
                                <input name="recommend_users_number" class="form-control" type="text" value="<?php echo $this->setting['recommend_users_number']; ?>"/>
                            </div>
                        </div>
                    </td>
                </tr>
            </table>
        </div>

        <?php } else if ($_GET['category'] == 'video') { ?>
        <div class="mod-head">
            <h3>
                <span class="pull-left"><?php _e('视频处理'); ?></span>

                <span class="pull-right"><a href="javascript:;" onclick="AWS.ajax_post($('#settings_form'));" class="btn btn-xs btn-primary mod-site-save"><?php _e('快速保存'); ?></a></span>
            </h3>
        </div>
        <div class="tab-content mod-content">
            <table class="table table-striped">

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('示范 URL 列表'); ?>:</span>
                            <div class="col-sm-8 col-xs-8">
                                <textarea class="form-control textarea" rows="5" name="video_config_example_url"><?php echo $this->setting['video_config_example_url']; ?></textarea>
                                <span class="help-block"><?php _e('e.g. https://www.youtube.com/watch?v=abcdefghijk'); ?></span>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('视频 URL 白名单'); ?>:</span>
                            <div class="col-sm-8 col-xs-8">
                                <textarea class="form-control textarea" rows="5" name="video_config_url_whitelist"><?php echo $this->setting['video_config_url_whitelist']; ?></textarea>
                                <span class="help-block"><?php _e('e.g. https://www.youtube.com/watch'); ?></span>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('视频解析 API'); ?>:</span>
                            <div class="col-sm-8 col-xs-8">
                                <textarea class="form-control textarea" rows="5" name="video_config_parser_api"><?php echo $this->setting['video_config_parser_api']; ?></textarea>
                                <span class="help-block"><?php _e('每行一个'); ?></span>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('视频解析 API 参数'); ?>:</span>
                            <div class="col-sm-8 col-xs-8">
                                <textarea class="form-control textarea" rows="5" name="video_config_parser_api_params"><?php echo $this->setting['video_config_parser_api_params']; ?></textarea>
                                <span class="help-block"><?php _e('e.g. access_token=123456789&api_key=abcdefg'); ?></span>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('视频解析缓存规则'); ?>:</span>
                            <div class="col-sm-8 col-xs-8">
                                <textarea class="form-control textarea" rows="5" name="video_config_parser_cache_rules"><?php echo $this->setting['video_config_parser_cache_rules']; ?></textarea>
                                <span class="help-block"><?php _e('e.g. youtube, 60'); ?></span>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="form-group">
                            <span class="col-sm-4 col-xs-3 control-label"><?php _e('缩略图 URL 规则'); ?>:</span>
                            <div class="col-sm-8 col-xs-8">
                                <textarea class="form-control textarea" rows="5" name="video_config_thumb_url_rules"><?php echo $this->setting['video_config_thumb_url_rules']; ?></textarea>
                                <span class="help-block"><?php _e('e.g. youtube@s, https://i.ytimg.com/vi/{$source}/default.jpg'); ?></span>
                            </div>
                        </div>
                    </td>
                </tr>

            </table>
        </div>

        <?php } ?>
        <div class="tab-content mod-content mod-one-btn">
            <div class="center-block">
                <input type="button" value="<?php _e('保存设置'); ?>" class="btn btn-primary" onclick="AWS.ajax_post($('#settings_form'));" />
            </div>
        </div>
    </div>
    </form>
</div>

<?php TPL::output('admin/global/footer.tpl.htm'); ?>